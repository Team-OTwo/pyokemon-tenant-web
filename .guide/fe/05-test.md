---
title: Test
---

í…ŒìŠ¤íŠ¸ ì „ëµ ë° ìˆ˜í–‰ì— ëŒ€í•œ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

- [í…ŒìŠ¤íŠ¸ ì „ëµ](#í…ŒìŠ¤íŠ¸-ì „ëµ)
- [ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ vs. í†µí•© í…ŒìŠ¤íŠ¸ vs. ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸](#ë‹¨ìœ„-í…ŒìŠ¤íŠ¸-vs-í†µí•©-í…ŒìŠ¤íŠ¸-vs-ì—”ë“œíˆ¬ì—”ë“œ-í…ŒìŠ¤íŠ¸)
- [Vitest](#vitest)
- [React Testing Library](#react-testing-library)
- [Mock Service Worker](#mock-service-worker)
- [í…ŒìŠ¤íŠ¸ ì½”ë“œ](#í…ŒìŠ¤íŠ¸-ì½”ë“œ)
  - [ë‹¨ìœ„ í…ŒìŠ¤íŠ¸](#ë‹¨ìœ„-í…ŒìŠ¤íŠ¸)
  - [í†µí•© í…ŒìŠ¤íŠ¸](#í†µí•©-í…ŒìŠ¤íŠ¸)
- [Vitest ì£¼ì˜ì‚¬í•­](#vitest-ì£¼ì˜ì‚¬í•­)
  - [`beforeEach` ë“±ì˜ hookì„ ê³¼ë„í•œ ì‚¬ìš©ì„ í”¼í•©ë‹ˆë‹¤.](#beforeeach-ë“±ì˜-hookì„-ê³¼ë„í•œ-ì‚¬ìš©ì„-í”¼í•©ë‹ˆë‹¤)
  - [í…ŒìŠ¤íŠ¸ ê°„ ìƒíƒœ ê³µìœ (ì•”ë¬µì  ê²°í•©)ì„ í”¼í•©ë‹ˆë‹¤.](#í…ŒìŠ¤íŠ¸-ê°„-ìƒíƒœ-ê³µìœ ì•”ë¬µì -ê²°í•©ì„-í”¼í•©ë‹ˆë‹¤)
  - [ê³¼ë„í•œ ì¶”ìƒí™”ë¥¼ í”¼í•©ë‹ˆë‹¤.](#ê³¼ë„í•œ-ì¶”ìƒí™”ë¥¼-í”¼í•©ë‹ˆë‹¤)
  - [ì „ì—­ ìƒíƒœ ìˆ˜ì •ì„ í”¼í•©ë‹ˆë‹¤.](#ì „ì—­-ìƒíƒœ-ìˆ˜ì •ì„-í”¼í•©ë‹ˆë‹¤)
  - [í…ŒìŠ¤íŠ¸ ê°„ ì‹¤í–‰ ìˆœì„œë¥¼ ê°€ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.](#í…ŒìŠ¤íŠ¸-ê°„-ì‹¤í–‰-ìˆœì„œë¥¼-ê°€ì •í•˜ì§€-ì•ŠìŠµë‹ˆë‹¤)
  - [`describe` ë¸”ë¡ì—ì„œ ë³€ìˆ˜ ê³µìœ ëŠ” í”¼í•©ë‹ˆë‹¤.](#describe-ë¸”ë¡ì—ì„œ-ë³€ìˆ˜-ê³µìœ ëŠ”-í”¼í•©ë‹ˆë‹¤)
  - [ë„ˆë¬´ ë§ì€ ë…¼ë¦¬ë¥¼ ê°€ì§„ í—¬í¼ í•¨ìˆ˜ë¥¼ í”¼í•©ë‹ˆë‹¤.](#ë„ˆë¬´-ë§ì€-ë…¼ë¦¬ë¥¼-ê°€ì§„-í—¬í¼-í•¨ìˆ˜ë¥¼-í”¼í•©ë‹ˆë‹¤)
  - [í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ì§€ì†ë˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.](#í…ŒìŠ¤íŠ¸-í™˜ê²½ì—ì„œ-í…ŒìŠ¤íŠ¸-ê²°ê³¼ê°€-ì§€ì†ë˜ì§€-ì•Šë„ë¡-í•©ë‹ˆë‹¤)
- [React Testing Library ì£¼ì˜ì‚¬í•­](#react-testing-library-ì£¼ì˜ì‚¬í•­)
  - [ëª¨ë“  í…ŒìŠ¤íŠ¸ì— `beforeEach`ë¡œ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§í•˜ëŠ” ê²ƒì„ í”¼í•©ë‹ˆë‹¤.](#ëª¨ë“ -í…ŒìŠ¤íŠ¸ì—-beforeeachë¡œ-ì»´í¬ë„ŒíŠ¸-ë Œë”ë§í•˜ëŠ”-ê²ƒì„-í”¼í•©ë‹ˆë‹¤)
  - [í…ŒìŠ¤íŠ¸ ID(`data-testid`)ë¥¼ ê³¼ë„í•˜ê²Œ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.](#í…ŒìŠ¤íŠ¸-iddata-testidë¥¼-ê³¼ë„í•˜ê²Œ-ì‚¬ìš©í•˜ì§€-ì•ŠìŠµë‹ˆë‹¤)
  - [ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ ìƒíƒœë¥¼ ì§ì ‘ ì¡°ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.](#ì»´í¬ë„ŒíŠ¸-ë‚´ë¶€-ìƒíƒœë¥¼-ì§ì ‘-ì¡°ì‘í•˜ì§€-ì•ŠìŠµë‹ˆë‹¤)
  - [ë¶ˆí•„ìš”í•œ `act()` ì‚¬ìš©ì„ í”¼í•©ë‹ˆë‹¤.](#ë¶ˆí•„ìš”í•œ-act-ì‚¬ìš©ì„-í”¼í•©ë‹ˆë‹¤)
  - [ì¿¼ë¦¬ í•¨ìˆ˜ ì„ íƒ ì‹¤ìˆ˜ì— ì£¼ì˜í•©ë‹ˆë‹¤.](#ì¿¼ë¦¬-í•¨ìˆ˜-ì„ íƒ-ì‹¤ìˆ˜ì—-ì£¼ì˜í•©ë‹ˆë‹¤)
  - [ë¶ˆí•„ìš”í•œ `cleanup()` í˜¸ì¶œì„ í”¼í•©ë‹ˆë‹¤.](#ë¶ˆí•„ìš”í•œ-cleanup-í˜¸ì¶œì„-í”¼í•©ë‹ˆë‹¤)
  - [í†µí•© í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” ì „ì²´ í˜ì´ì§€ ë Œë”ë§ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.](#í†µí•©-í…ŒìŠ¤íŠ¸-ì‹œì—ëŠ”-ì „ì²´-í˜ì´ì§€-ë Œë”ë§ì„-ê³ ë ¤í•´ì•¼-í•©ë‹ˆë‹¤)
- [MSW ì£¼ì˜ì‚¬í•­](#msw-ì£¼ì˜ì‚¬í•­)
  - [ì„œë²„ ìƒëª…ì£¼ê¸° ê´€ë¦¬ ëˆ„ë½](#ì„œë²„-ìƒëª…ì£¼ê¸°-ê´€ë¦¬-ëˆ„ë½)
  - [í•¸ë“¤ëŸ¬ ê°„ ìš°ì„ ìˆœìœ„ ì˜¤ë¥˜](#í•¸ë“¤ëŸ¬-ê°„-ìš°ì„ ìˆœìœ„-ì˜¤ë¥˜)
  - [ë™ì¼ ì—”ë“œí¬ì¸íŠ¸ ì¬ì •ì˜ ì‹œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜](#ë™ì¼-ì—”ë“œí¬ì¸íŠ¸-ì¬ì •ì˜-ì‹œ-ë©”ëª¨ë¦¬-ëˆ„ìˆ˜)
  - [ì‘ë‹µ í˜•ì‹ ì¼ì¹˜ì—¬ë¶€ ë°˜ë“œì‹œ í™•ì¸](#ì‘ë‹µ-í˜•ì‹-ì¼ì¹˜ì—¬ë¶€-ë°˜ë“œì‹œ-í™•ì¸)
  - [ìƒíƒœ ì½”ë“œ ëˆ„ë½](#ìƒíƒœ-ì½”ë“œ-ëˆ„ë½)
  - [ë™ì  ê²½ë¡œ ì²˜ë¦¬ ì˜¤ë¥˜](#ë™ì -ê²½ë¡œ-ì²˜ë¦¬-ì˜¤ë¥˜)
  - [ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ì‹œë®¬ë ˆì´ì…˜](#ë„¤íŠ¸ì›Œí¬-ì—ëŸ¬-ì‹œë®¬ë ˆì´ì…˜)
  - [Context ìœ í‹¸ë¦¬í‹° ì˜ ëª» ì‚¬ìš©](#context-ìœ í‹¸ë¦¬í‹°-ì˜-ëª»-ì‚¬ìš©)
  - [í•¸ë“¤ëŸ¬ ë‚´ë¶€ ìƒíƒœ ê³µìœ ëŠ” í…ŒìŠ¤íŠ¸ ê°„ ê°„ì„­ ìœ ë°œ](#í•¸ë“¤ëŸ¬-ë‚´ë¶€-ìƒíƒœ-ê³µìœ ëŠ”-í…ŒìŠ¤íŠ¸-ê°„-ê°„ì„­-ìœ ë°œ)

## í…ŒìŠ¤íŠ¸ ì „ëµ

ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ê°€ì¥ ë§ì´ ì‘ì„±í•˜ê³ , ê·¸ ë‹¤ìŒ í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë©°, ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸ëŠ” ê°€ì¥ ì ê²Œ ì‘ì„±í•˜ë„ë¡ ê¶Œì¥í•©ë‹ˆë‹¤.

## ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ vs. í†µí•© í…ŒìŠ¤íŠ¸ vs. ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸

ì´ ì„¸ ê°€ì§€ í…ŒìŠ¤íŠ¸ ì¤‘ì—ì„œ ì–´ëŠ ê²ƒì„ ë” ê°•ì¡°í•´ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•œ ì •ë‹µì€ ì—†ìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ì˜ ê·œëª¨, ë³µì¡ì„±, íŒ€ì˜ ì „ë¬¸ì„±, ê°€ìš©í•œ ìì›ê³¼ ê°™ì€ ë‹¤ì–‘í•œ ìš”ì¸ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ ì „ëµì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Mike Cohnì´ ê·¸ì˜ ì±… [Succeeding with Agile](https://www.amazon.com/Succeeding-Agile-Software-Development-Using/dp/0321579364)ì—ì„œ ì²˜ìŒ ì†Œê°œí•œ *í…ŒìŠ¤íŒ… í”¼ë¼ë¯¸ë“œ(The Testing Pyramid)*ëŠ” Googleì˜ ìœ ëª…í•œ ê¸€ì¸ [Just Say No to More End-to-End Tests](https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html)ì—ì„œë„ ë‹¤ë¤„ì¡ŒìŠµë‹ˆë‹¤. ì´ ì ‘ê·¼ ë°©ì‹ì€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ê°€ì¥ ë§ì´ ì‘ì„±í•˜ê³ , ê·¸ë‹¤ìŒìœ¼ë¡œ í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë©°, ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸ëŠ” ê°€ì¥ ì ê²Œ ì‘ì„±í•˜ë„ë¡ ê¶Œì¥í•©ë‹ˆë‹¤.

**í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ìš°ì„ ì‹œí•¨ìœ¼ë¡œì¨**, í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ì‹ ë¢°ì„±ê³¼ ê°œë°œ íš¨ìœ¨ì„± ê°„ì˜ ê· í˜•ì„ ë§ì¶œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í†µí•© í…ŒìŠ¤íŠ¸ëŠ” ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸ì— ìˆ˜ë°˜ë˜ëŠ” ì˜¤ë²„í—¤ë“œ ì—†ì´, ì‹¤ì„¸ê³„ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì„œë¡œ ì–´ë–»ê²Œ ìƒí˜¸ì‘ìš©í•˜ëŠ”ì§€ì— ëŒ€í•œ ë” í¬ê´„ì ì¸ ì´í•´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

ìœ„ì—ì„œ ì–¸ê¸‰ëœ ë‹¤ì–‘í•œ ì „ëµì—ì„œ ì–»ì„ ìˆ˜ ìˆëŠ” ì£¼ìš” ê²°ë¡  ì¤‘ í•˜ë‚˜ëŠ” ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸ë¥¼ ìµœì†Œí•œìœ¼ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸ëŠ” ì‘ì„±ê³¼ ìœ ì§€ ê´€ë¦¬ì— ë” ë§ì€ ì‹œê°„ì´ ì†Œìš”ë˜ë©°, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë‚˜ í†µí•© í…ŒìŠ¤íŠ¸ì— ë¹„í•´ ì‹¤í–‰ ì‹œê°„ì´ ë” ê¸´ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸ëŠ” ì£¼ë¡œ ì‚¬ìš©ì ì¸ì¦, ê²°ì œ ì²˜ë¦¬, ê¸°íƒ€ í•µì‹¬ ì• í”Œë¦¬ì¼€ì´ì…˜ íë¦„ê³¼ ê°™ì€ ì¤‘ìš”í•œ ê²½ë¡œì—ë§Œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ê¶Œì¥ë©ë‹ˆë‹¤.

ë‹¹ì‹ ê³¼ íŒ€ì´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì— ë” ì§‘ì¤‘í• ì§€, ì•„ë‹ˆë©´ í†µí•© í…ŒìŠ¤íŠ¸ì— ë” ì§‘ì¤‘í• ì§€ëŠ” ê¶ê·¹ì ìœ¼ë¡œ í”„ë¡œì íŠ¸ì˜ íŠ¹ì • ìš”êµ¬ì‚¬í•­ê³¼ ë§¥ë½, ê·¸ë¦¬ê³  í…ŒìŠ¤íŠ¸ì˜ ê¹Šì´ì™€ ë²”ìœ„ì— ëŒ€í•œ íŒ€ì˜ ì„ í˜¸ë„ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤.

## Vitest

ë‹¨ìœ„, í†µí•© í…ŒìŠ¤íŠ¸ ë„êµ¬ë¡œ [Vitest](https://vitest.dev/)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

**Vitest**

- VitestëŠ” Jestë³´ë‹¤ í›¨ì”¬ ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.
  - ì°¸ê³ : Vitest ì½”ë“œ êµ¬ë¬¸ì€ Jestì™€ ë™ì¼í•©ë‹ˆë‹¤.
- Viteì™€ í†µí•©ì´ ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
- ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ ì†ë„ëŠ” ê°œë°œ í”¼ë“œë°± ì£¼ê¸°ë¥¼ ë‹¨ì¶•í•˜ê³ , ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°„ì€ ê°œë°œìì˜ ìƒì‚°ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.

## React Testing Library

React í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ [React Testing Library](https://testing-library.com/docs/react-testing-library/intro/)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
React ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ íŠ¹ë³„íˆ ì„¤ê³„ëœ ê°€ë²¼ìš´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” êµ¬í˜„ ì„¸ë¶€ì‚¬í•­ë³´ë‹¤ëŠ” ì‚¬ìš©ì ê²½í—˜ì— ì´ˆì ì„ ë§ì¶˜ í…ŒìŠ¤íŠ¸ ì‘ì„±ì„ ì¥ë ¤í•©ë‹ˆë‹¤.

- ì‚¬ìš©ì ê´€ì  í…ŒìŠ¤íŠ¸: DOMê³¼ ìƒí˜¸ì‘ìš©ì„ í†µí•´ ì‹¤ì œ ì‚¬ìš©ì ê²½í—˜ì— ê°€ê¹Œìš´ í…ŒìŠ¤íŠ¸ ì‘ì„±ì´ ê°€ëŠ¥.
- Reactì— ì¢…ì†ì ì´ì§€ ì•ŠìŒ: ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ êµ¬í˜„ë³´ë‹¤ëŠ” ë™ì‘ì— ì§‘ì¤‘.
- ê°„ë‹¨í•œ API: ì§ê´€ì ì´ê³  ì‚¬ìš©í•˜ê¸° ì‰¬ìš´ API ì œê³µ.
- ì ‘ê·¼ì„± ê²€ì¦: `getByRole` ë“± ì ‘ê·¼ì„±ì— ì¤‘ì ì„ ë‘” ì¿¼ë¦¬ ì§€ì›.
- ìœ ì§€ë³´ìˆ˜ì„± ë†’ì€ í…ŒìŠ¤íŠ¸: ë¦¬íŒ©í† ë§ í›„ì—ë„ ê¹¨ì§€ì§€ ì•ŠëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„± ê°€ëŠ¥.
- ì»¤ë®¤ë‹ˆí‹° ë° ë¬¸ì„œí™”: í’ë¶€í•œ ìë£Œì™€ í™œì„±í™”ëœ ì»¤ë®¤ë‹ˆí‹° ì§€ì›.
- ìœ ì—°ì„±: ë‹¤ì–‘í•œ í…ŒìŠ¤íŠ¸ í™˜ê²½ ë° ìœ í‹¸ë¦¬í‹°ì™€ì˜ í†µí•© ìš©ì´.

## Mock Service Worker

í†µí•© í…ŒìŠ¤íŠ¸ ì‹œì— [Mock Service Worker(MSW)](https://mswjs.io/) í™œìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ê°€ë¡œì±„ê³  ëª¨ì˜ ì‘ë‹µì„ ë°˜í™˜í•˜ì—¬ í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ì œì–´í•©ë‹ˆë‹¤.

MSWì˜ ì£¼ìš” íŠ¹ì§•:

**í™˜ê²½ ë…ë¦½ì (Agnostic)**

- ëª¨ë“  ë¸Œë¼ìš°ì €ì™€ Node.js í™˜ê²½ì—ì„œ ì‚¬ìš© ê°€ëŠ¥
- ì¶”ê°€ ì„¤ì •ì´ë‚˜ í”ŒëŸ¬ê·¸ì¸ ë¶ˆí•„ìš”
- fetch, Axios, React Query, Apollo ë“± ëª¨ë“  ìš”ì²­ í´ë¼ì´ì–¸íŠ¸ì™€ í˜¸í™˜

**ì›í™œí•œ í†µí•©(Seamless)**

- Service Worker APIë¥¼ ì‚¬ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ë ˆë²¨ì—ì„œ ì‹¤ì œ ìš”ì²­ ê°€ë¡œì±„ê¸°
- Node.jsì—ì„œëŠ” í´ë˜ìŠ¤ í™•ì¥ì„ í†µí•´ í”„ë¡œë•ì…˜ í™˜ê²½ê³¼ ìœ ì‚¬í•œ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì œê³µ

**ì¬ì‚¬ìš©ì„±(Reusable)**

- API ëª¨í‚¹ì„ ë…ë¦½ì ì¸ ë ˆì´ì–´ë¡œ ì²˜ë¦¬
- ê°œë°œ, í†µí•© í…ŒìŠ¤íŠ¸, E2E í…ŒìŠ¤íŠ¸, Storybook ë“± ë‹¤ì–‘í•œ í™˜ê²½ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥
- ë„¤íŠ¸ì›Œí¬ ë™ì‘ì„ í•„ìš”ì— ë”°ë¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥

## í…ŒìŠ¤íŠ¸ ì½”ë“œ

Vitestì—ì„œ ì œê³µí•˜ëŠ” í•¨ìˆ˜ì¸ `test`, `describe` ë“±ì„ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

> ì°¸ê³  ë§í¬: [Vitest ê³µì‹ ë¬¸ì„œ](https://vitest.dev/api/)

- `test` í•¨ìˆ˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì •ì˜í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
- `describe` í•¨ìˆ˜ëŠ” í…ŒìŠ¤íŠ¸ ê·¸ë£¹ì„ ì •ì˜í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
- `it` í•¨ìˆ˜ëŠ” `test` í•¨ìˆ˜ì˜ ë³„ì¹­ì…ë‹ˆë‹¤.
- `beforeEach`, `afterEach`, `beforeAll`, `afterAll` ë“±ì˜ í•¨ìˆ˜ëŠ” í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì „í›„ì— ì‹¤í–‰ë˜ëŠ” ì½”ë“œë¥¼ ì •ì˜í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
- `expect` í•¨ìˆ˜ëŠ” í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ê²€ì¦í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

React Testing Libraryì—ì„œ ì œê³µí•˜ëŠ” í•¨ìˆ˜ì¸ `render`, `screen`, `waitFor` ë“±ì„ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

> ì°¸ê³  ë§í¬: [React Testing Library ê³µì‹ ë¬¸ì„œ](https://testing-library.com/docs/react-testing-library/api/)

- `render` í•¨ìˆ˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
- `screen` ê°ì²´ëŠ” ë Œë”ë§ëœ ì»´í¬ë„ŒíŠ¸ì˜ DOM ìš”ì†Œë¥¼ ì¿¼ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
- `waitFor` í•¨ìˆ˜ëŠ” ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
- `userEvent` í•¨ìˆ˜ëŠ” ì‚¬ìš©ì ì´ë²¤íŠ¸ë¥¼ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
- `fireEvent` í•¨ìˆ˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

MSWì—ì„œ ì œê³µí•˜ëŠ” í•¨ìˆ˜ì¸ `http`, `HttpResponse`, `setupServer` ë“±ì„ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

> ì°¸ê³  ë§í¬: [Mock Service Worker ê³µì‹ ë¬¸ì„œ](https://mswjs.io/docs/)

- `setupWorker` í•¨ìˆ˜ëŠ” MSW ì„œë²„ë¥¼ ì„¤ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
- `setupServer` í•¨ìˆ˜ëŠ” MSW ì„œë²„ë¥¼ ì„¤ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
- `http` í•¨ìˆ˜ëŠ” ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ê°€ë¡œì±„ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
- `HttpResponse` í•¨ìˆ˜ëŠ” ëª¨ì˜ ì‘ë‹µì„ ë°˜í™˜í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
- `delay` í•¨ìˆ˜ëŠ” ì‘ë‹µì„ ì§€ì—°ì‹œí‚¤ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

ì»´í¬ë„ŒíŠ¸, ìœ í‹¸ë¦¬í‹°, í´ë˜ìŠ¤ ë“± ê°œë³„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì´ë¯€ë¡œ í•´ë‹¹ í´ë” ë‚´ë¶€ì— í…ŒìŠ¤íŠ¸ íŒŒì¼ì„ ì‘ì„±í•©ë‹ˆë‹¤.

**ì˜ˆì‹œ: ë²„íŠ¼ í´ë¦­ ì‹œ ìŠ¤íƒ€ì¼ ë³€ê²½ í…ŒìŠ¤íŠ¸**

```tsx
// ./src/components/button/button.test.tsx
test("ë²„íŠ¼ í´ë¦­ ì‹œ ìŠ¤íƒ€ì¼ ë³€ê²½ í…ŒìŠ¤íŠ¸", () => {
  render(<App />);

  // /blue/iì™€ ì¼ì¹˜í•˜ëŠ” í…ìŠ¤íŠ¸ë¥¼ ê°€ì§„ ë²„íŠ¼ ìš”ì†Œ ì°¾ê¸°
  const buttonElement = screen.getByRole("button", {
    name: /blue/i,
  });

  // í´ë˜ìŠ¤ê°€ redì¸ì§€ í™•ì¸
  expect(buttonElement).toHaveClass("red");

  // ë²„íŠ¼ í´ë¦­
  fireEvent.click(buttonElement);

  // í´ë˜ìŠ¤ê°€ blueë¡œ ë³€ê²½ë˜ì—ˆëŠ”ì§€ í™•ì¸
  expect(buttonElement).toHaveClass("blue");

  // ë²„íŠ¼ í…ìŠ¤íŠ¸ê°€ /red/iì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸
  expect(buttonElement).toHaveTextContent(/red/i);
});
```

**ì˜ˆì‹œ: ë‚ ì§œ í¬ë§·íŒ… í…ŒìŠ¤íŠ¸**

```tsx
// ./src/utils/date-utils/date-utils.test.ts
import { formatDate } from "./date-utils";

test("date-utils", () => {
  test("ë‚ ì§œ í¬ë§·íŒ… í…ŒìŠ¤íŠ¸", () => {
    const date = new Date("2024-03-20");

    expect(formatDate(date, "YYYY-MM-DD")).toBe("2024-03-20");
    expect(formatDate(date, "YYYYë…„ MMì›” DDì¼")).toBe("2024ë…„ 03ì›” 20ì¼");
    expect(formatDate(date, "MM/DD/YYYY")).toBe("03/20/2024");
  });
});
```

### í†µí•© í…ŒìŠ¤íŠ¸

í†µí•© í…ŒìŠ¤íŠ¸ëŠ” ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì™€ ì„œë¹„ìŠ¤ê°€ í•¨ê»˜ ì‘ë™í•˜ëŠ” ë°©ì‹ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.

**ì˜ˆì‹œ: ì œí’ˆ ëª©ë¡ ì¡°íšŒ & ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ í”Œë¡œìš°**

```tsx
// ./src/__tests__/product/product-add-to-cart.test.tsx
import { render, screen, waitFor } from "@testing-library/react";
import userEvent from "@testing-library/user-event";
import { http, HttpResponse } from "msw";
import { setupServer } from "msw/node";
import { CartProvider } from "../contexts/CartContext";
import ProductList from "../components/ProductList";

interface Product {
  id: number;
  name: string;
  price: number;
}

const server = setupServer(
  http.get<Product[]>("/api/products", () => {
    return HttpResponse.json<Product[]>([
      { id: 1, name: "ë§¥ë¶ í”„ë¡œ", price: 2_000_000 },
      { id: 2, name: "ì•„ì´í° 15", price: 1_500_000 },
    ]);
  }),
  http.post<{ productId: number }>("/api/cart", async ({ request }) => {
    const item = await request.json();
    return HttpResponse.json({ ...item, id: Math.random() });
  })
);

beforeAll(() => server.listen());
afterEach(() => {
  server.resetHandlers();
  localStorage.clear();
});
afterAll(() => server.close());

test("ì œí’ˆ ëª©ë¡ í‘œì‹œ í›„ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ì‹œ ì¹´ìš´íŠ¸ ì¦ê°€", async () => {
  const user = userEvent.setup();
  render(
    <CartProvider>
      <ProductList />
    </CartProvider>
  );

  const listItems = await screen.findAllByRole("listitem");
  expect(listItems).toHaveLength(2);

  const addButtons = screen.getAllByRole("button", { name: /ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€/i });
  await user.click(addButtons[0]);

  await waitFor(() => {
    expect(screen.getByTestId("cart-count")).toHaveTextContent("1");
  });
});
```

**ì˜ˆì‹œ: ë¡œê·¸ì¸ ì‹¤íŒ¨ ì²˜ë¦¬**

```tsx
// ./src/__tests__/auth/login-failed.test.tsx
import { render, screen, waitFor } from "@testing-library/react";
import userEvent from "@testing-library/user-event";
import { http, HttpResponse } from "msw";
import { setupServer } from "msw/node";
import LoginForm from "../components/LoginForm";

interface LoginError {
  error: string;
}

const server = setupServer(
  http.post<never, { email: string; password: string }>("/api/login", () => {
    return HttpResponse.json<LoginError>(
      { error: "ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸" },
      { status: 401 }
    );
  })
);

beforeAll(() => server.listen());
afterEach(() => server.resetHandlers());
afterAll(() => server.close());

test("ì˜ëª»ëœ ë¡œê·¸ì¸ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ", async () => {
  const user = userEvent.setup();
  render(<LoginForm />);

  await user.type(screen.getByLabelText(/ì´ë©”ì¼/i), "test@test.com");
  await user.type(screen.getByLabelText(/ë¹„ë°€ë²ˆí˜¸/i), "wrongpass");
  await user.click(screen.getByRole("button", { name: /ë¡œê·¸ì¸/i }));

  const alert = await screen.findByRole("alert");
  expect(alert).toHaveTextContent("ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤");
});
```

```tsx
// ./src/__tests__/product/product-search-filtering.test.tsx
import { render, screen, waitFor } from "@testing-library/react";
import userEvent from "@testing-library/user-event";
import { http, HttpResponse } from "msw";
import { setupServer } from "msw/node";
import ProductSearch from "../components/ProductSearch";

interface Product {
  id: number;
  name: string;
}

const server = setupServer(
  http.get<Product[]>("/api/products", ({ request }) => {
    const url = new URL(request.url);
    const searchTerm = url.searchParams.get("q") ?? "";

    const mockData: Product[] = searchTerm.includes("ë§¥ë¶")
      ? [{ id: 1, name: "ë§¥ë¶ í”„ë¡œ" }]
      : [];

    return HttpResponse.json<Product[]>(mockData);
  })
);

beforeAll(() => server.listen());
afterEach(() => server.resetHandlers());
afterAll(() => server.close());

test("ê²€ìƒ‰ì–´ ì…ë ¥ ì‹œ í•„í„°ë§ëœ ê²°ê³¼ í‘œì‹œ", async () => {
  const user = userEvent.setup();
  render(<ProductSearch />);

  const searchInput = screen.getByPlaceholderText("ì œí’ˆ ê²€ìƒ‰");
  await user.type(searchInput, "ë§¥ë¶");

  await waitFor(() => {
    expect(screen.getByText("ë§¥ë¶ í”„ë¡œ")).toBeInTheDocument();
  });

  await user.clear(searchInput);
  await user.type(searchInput, "ì—†ëŠ”ì œí’ˆ");

  await waitFor(() => {
    expect(screen.getByText("ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ")).toBeInTheDocument();
  });
});
```

## Vitest ì£¼ì˜ì‚¬í•­

- **í…ŒìŠ¤íŠ¸ëŠ” ë¬¸ì„œë‹¤**: ë‹¤ë¥¸ ê°œë°œìê°€ ë´ë„ í•œ ë²ˆì— ì´í•´ ê°€ëŠ¥í•´ì•¼ í•¨
- **í…ŒìŠ¤íŠ¸ëŠ” ë…ë¦½ì ì´ì–´ì•¼ í•œë‹¤**: ì„œë¡œì˜ ê²°ê³¼ì— ì ˆëŒ€ ì˜í–¥ë°›ì§€ ì•Šì•„ì•¼ í•¨
- **ì¤‘ë³µ > ì¶”ìƒí™”**: ê³¼ë„í•œ DRY ì›ì¹™ì´ í…ŒìŠ¤íŠ¸ì˜ ëª…í™•ì„±ì„ í•´ì¹˜ì§€ ì•Šë„ë¡

Vitest í™˜ê²½ì€ ì¶©ë¶„íˆ ë¹ ë¥´ê¸° ë•Œë¬¸ì— ì‘ì€ ì¤‘ë³µì„ í—ˆìš©í•˜ë©´ì„œë„ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì‹ ë¢°ì„±ì„ ë†’ì´ëŠ” ë°©í–¥ì´ ìµœì ì…ë‹ˆë‹¤.

### `beforeEach` ë“±ì˜ hookì„ ê³¼ë„í•œ ì‚¬ìš©ì„ í”¼í•©ë‹ˆë‹¤.

í•„ìš”í•œ í…ŒìŠ¤íŠ¸ì—ì„œë§Œ ì§ì ‘ ì´ˆê¸°í™”í•´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: ëª¨ë“  í…ŒìŠ¤íŠ¸ì— ë¶ˆí•„ìš”í•œ DB ì´ˆê¸°í™”
beforeEach(() => {
  initializeDatabase(); // 10ê°œ í…ŒìŠ¤íŠ¸ ì¤‘ 2ê°œë§Œ í•„ìš”í•¨
  mockAPICalls();
  setFeatureFlags();
});

test("ìœ ì € ìƒì„±", () => {
  /* ... */
});
test("ìƒí’ˆ ê²€ìƒ‰", () => {
  /* ... */
});

// âœ… ì¢‹ì€ ì˜ˆ: í•„ìš”í•œ í…ŒìŠ¤íŠ¸ì—ì„œë§Œ ì§ì ‘ ì´ˆê¸°í™”
test("ìœ ì € ìƒì„±", async () => {
  const db = initializeDatabase(); // í•´ë‹¹ í…ŒìŠ¤íŠ¸ì—ì„œë§Œ ìƒì„±
});
```

### í…ŒìŠ¤íŠ¸ ê°„ ìƒíƒœ ê³µìœ (ì•”ë¬µì  ê²°í•©)ì„ í”¼í•©ë‹ˆë‹¤.

ê° í…ŒìŠ¤íŠ¸ê°€ ë…ë¦½ëœ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: í…ŒìŠ¤íŠ¸ Bê°€ í…ŒìŠ¤íŠ¸ Aì˜ ê²°ê³¼ì— ì˜ì¡´
let cartItems = [];

test("A: ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€", () => {
  cartItems.push("item1");
});

test("B: ì¥ë°”êµ¬ë‹ˆ í™•ì¸", () => {
  expect(cartItems).toContain("item1"); // Aê°€ ë¨¼ì € ì‹¤í–‰ë˜ì–´ì•¼ í†µê³¼
});

// âœ… ì¢‹ì€ ì˜ˆ: ê° í…ŒìŠ¤íŠ¸ê°€ ë…ë¦½ì ì¸ ë°ì´í„° ì‚¬ìš©
test("B: ì¥ë°”êµ¬ë‹ˆ í™•ì¸", () => {
  const cartItems = ["item1"]; // ëª…ì‹œì  ì´ˆê¸°í™”
  expect(cartItems).toContain("item1");
});
```

### ê³¼ë„í•œ ì¶”ìƒí™”ë¥¼ í”¼í•©ë‹ˆë‹¤.

í•„ìš”í•œ ì†ì„±ì„ í…ŒìŠ¤íŠ¸ ë‚´ì—ì„œ ëª…ì‹œí•˜ì—¬ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ëª…í™•ì„±ì„ í•´ì¹˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: setupUser() ë‚´ë¶€ êµ¬í˜„ì´ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ë³´ì´ì§€ ì•ŠìŒ
test("í”„ë¡œí•„ ì—…ë°ì´íŠ¸", () => {
  const user = setupUser(); // ì–´ë–¤ ì†ì„±ì´ ì´ˆê¸°í™”ëëŠ”ì§€? ğŸ¤”
  updateProfile(user);
});

// âœ… ì¢‹ì€ ì˜ˆ: í…ŒìŠ¤íŠ¸ ë‚´ì—ì„œ ëª…ì‹œì  ì´ˆê¸°í™”
test("í”„ë¡œí•„ ì—…ë°ì´íŠ¸", () => {
  const user = { id: 1, name: "Alice" }; // ì§ì ‘ ìƒì„±
  updateProfile(user, { name: "Bob" });
});
```

### ì „ì—­ ìƒíƒœ ìˆ˜ì •ì„ í”¼í•©ë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ë³„ ë…ë¦½ì ì¸ ëª¨í‚¹ì„ í†µí•´ í…ŒìŠ¤íŠ¸ ê²©ë¦¬ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì „ì—­ ë³€ìˆ˜ ì¡°ì‘
test("í™˜ê²½ ì„¤ì • í…ŒìŠ¤íŠ¸", () => {
  process.env.API_ENDPOINT = "https://fake-api.test";
});

test("API í˜¸ì¶œ í…ŒìŠ¤íŠ¸", () => {
  // process.env.API_ENDPOINTê°€ ë³€ê²½ëœ ìƒíƒœë¡œ ì‹¤í–‰ë¨
});

// âœ… ì¢‹ì€ ì˜ˆ: í…ŒìŠ¤íŠ¸ë³„ ë…ë¦½ì ì¸ ëª¨í‚¹
test("API í˜¸ì¶œ í…ŒìŠ¤íŠ¸", () => {
  vi.stubEnv("API_ENDPOINT", "https://fake-api.test"); // Vitest ê¶Œì¥ ë°©ì‹
});
```

### í…ŒìŠ¤íŠ¸ ê°„ ì‹¤í–‰ ìˆœì„œë¥¼ ê°€ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ê° í…ŒìŠ¤íŠ¸ë¥¼ ë…ë¦½ì ì¸ ì‹œë‚˜ë¦¬ì˜¤ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ìˆœì„œì— ì˜ì¡´
describe("ì£¼ë¬¸ í”„ë¡œì„¸ìŠ¤", () => {
  test("1. ì£¼ë¬¸ ìƒì„±", () => {
    /* ... */
  }); // ì´ë¦„ì— ìˆœì„œ ê°•ì œ
  test("2. ê²°ì œ ì²˜ë¦¬", () => {
    /* ... */
  });
});

// âœ… ì¢‹ì€ ì˜ˆ: í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ìˆœì„œì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
test("ì£¼ë¬¸ ìƒì„± â†’ ê²°ì œ ì²˜ë¦¬ ì¢…ë‹¨ ê°„ í…ŒìŠ¤íŠ¸", () => {
  // í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ì—ì„œ ì „ì²´ íë¦„ ê²€ì¦
});
```

### `describe` ë¸”ë¡ì—ì„œ ë³€ìˆ˜ ê³µìœ ëŠ” í”¼í•©ë‹ˆë‹¤.

ê° í…ŒìŠ¤íŠ¸ ë‚´ì—ì„œ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë³€ìˆ˜ ê³µìœ 
describe("ê²°ì œ ëª¨ë“ˆ", () => {
  const paymentGateway = setupGateway(); // ëª¨ë“  í…ŒìŠ¤íŠ¸ì—ì„œ ê³µìœ 

  test("ì‹ ìš©ì¹´ë“œ ê²°ì œ", () => {
    /* paymentGateway ì‚¬ìš© */
  });
  test("ê³„ì¢Œì´ì²´ ê²°ì œ", () => {
    /* paymentGateway ì¬ì‚¬ìš© */
  });
});

// âœ… ì¢‹ì€ ì˜ˆ: ê° í…ŒìŠ¤íŠ¸ì—ì„œ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
describe("ê²°ì œ ëª¨ë“ˆ", () => {
  test("ì‹ ìš©ì¹´ë“œ ê²°ì œ", () => {
    const paymentGateway = setupGateway(); // ê° í…ŒìŠ¤íŠ¸ì—ì„œ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
    /* paymentGateway ì‚¬ìš© */
  });
  test("ê³„ì¢Œì´ì²´ ê²°ì œ", () => {
    const paymentGateway = setupGateway(); // ê° í…ŒìŠ¤íŠ¸ì—ì„œ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
    /* paymentGateway ì‚¬ìš© */
  });
});
```

### ë„ˆë¬´ ë§ì€ ë…¼ë¦¬ë¥¼ ê°€ì§„ í—¬í¼ í•¨ìˆ˜ë¥¼ í”¼í•©ë‹ˆë‹¤.

ë‹¨ìˆœ íŒ©í† ë¦¬ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ê±°ë‚˜ í•„ìš”í•œ ê²½ìš° ì§ì ‘ ì†ì„± ì§€ì •í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.

```tsx
// âŒ ì¡°ê±´ë¬¸ì´ í¬í•¨ëœ ë³µì¡í•œ í—¬í¼
function setupUser(isAdmin = false, hasSubscription = true) {
  // 50ì¤„ì˜ ë³µì¡í•œ ë¡œì§...
}

// âœ… ì¢‹ì€ ì˜ˆ: ë‹¨ìˆœí•œ í—¬í¼ í•¨ìˆ˜
function setupAdminUser() {
  // ë‹¨ìˆœí•œ ë¡œì§...
}
```

### í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ì§€ì†ë˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ ì¢…ë£Œì‹œì— ìì›ì„ ì •ë¦¬í•©ë‹ˆë‹¤.(`afterEach`, `afterAll`ë¡œ ì •ë¦¬)

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ì§€ì†ë¨
test("íŒŒì¼ ì—…ë¡œë“œ", () => {
  uploadFile("test.txt"); // ì‹¤ì œ íŒŒì¼ ì‹œìŠ¤í…œì— íŒŒì¼ ìƒì„±
});
test("íŒŒì¼ ì‚­ì œ", () => {
  deleteFile("test.txt"); // ì´ì „ í…ŒìŠ¤íŠ¸ì˜ íŒŒì¼ì— ì˜ì¡´
});

// âœ… ì¢‹ì€ ì˜ˆ: í…ŒìŠ¤íŠ¸ ì¢…ë£Œì‹œ ìì› ì •ë¦¬
afterEach(() => {
  cleanup(); // í…ŒìŠ¤íŠ¸ ì¢…ë£Œì‹œ ìì› ì •ë¦¬
});
```

## React Testing Library ì£¼ì˜ì‚¬í•­

### ëª¨ë“  í…ŒìŠ¤íŠ¸ì— `beforeEach`ë¡œ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§í•˜ëŠ” ê²ƒì„ í”¼í•©ë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ ê°„ ì»´í¬ë„ŒíŠ¸ ìƒíƒœê°€ ê³µìœ ë  ìˆ˜ë„ ìˆê³  íŠ¹ì • í…ŒìŠ¤íŠ¸ì—ì„œ ë‹¤ë¥¸ `id`ê°€ í•„ìš”í•˜ë©´ ëŒ€ì‘ì´ ë¶ˆê°€í•©ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ ë™ì¼í•œ propsë¥¼ ê°€ì§„ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´
let component;
beforeEach(() => {
  component = render(<ProductPage productId={1} />);
});

test("ì œëª© í‘œì‹œ", () => {
  expect(component.getByText("ìƒí’ˆ 1")).toBeInTheDocument();
});

test("ê°€ê²© í‘œì‹œ", () => {
  expect(component.getByText("$100")).toBeInTheDocument();
});
```

### í…ŒìŠ¤íŠ¸ ID(`data-testid`)ë¥¼ ê³¼ë„í•˜ê²Œ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ IDëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ê°€ë…ì„±ì„ í•´ì¹˜ê³  ìœ ì§€ë³´ìˆ˜ë¥¼ ì–´ë µê²Œ ë§Œë“­ë‹ˆë‹¤.
ë¦¬íŒ©í† ë§ ì‹œ í…ŒìŠ¤íŠ¸ IDë§Œ ìœ ì§€ë˜ë©´ ê±°ì§“ ì–‘ì„±(false positive)ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: ì‚¬ìš©ìì—ê²Œ ë³´ì´ì§€ ì•ŠëŠ” í…ŒìŠ¤íŠ¸ IDì— ì˜ì¡´
test("ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼ ë™ì‘", () => {
  const { getByTestId } = render(<ProductPage />);
  fireEvent.click(getByTestId("add-to-cart-button"));
});

// âœ… ì¢‹ì€ ì˜ˆ: ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ë³´ëŠ” í…ìŠ¤íŠ¸/ì—­í• (Role)ë¡œ ìš”ì†Œ ì°¾ê¸°
test("ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼ ë™ì‘", () => {
  const { getByRole } = render(<ProductPage />);
  fireEvent.click(getByRole("button", { name: /ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€/i }));
});
```

<details>
<summary>React Testing Library ì¿¼ë¦¬ ì¡°íšŒ ë©”ì†Œë“œ ìš°ì„ ìˆœìœ„</summary>

> ì°¸ê³ : https://testing-library.com/docs/queries/about#priority

"í…ŒìŠ¤íŠ¸ëŠ” ì‚¬ìš©ìê°€ ì½”ë“œ(ì»´í¬ë„ŒíŠ¸, í˜ì´ì§€ ë“±)ì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ë°©ì‹ì„ ìµœëŒ€í•œ ìœ ì‚¬í•˜ê²Œ ë°˜ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ê³ ë ¤í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì€ ìš°ì„ ìˆœìœ„ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤" ë¼ê³  ê¶Œì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.
ì¦‰, í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ë³´ëŠ” í…ìŠ¤íŠ¸/ì—­í• (Role)ë¡œ ìš”ì†Œ ì°¾ê¸°ë¥¼ ê¶Œì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ IDë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ìµœí›„ì˜ ìˆ˜ë‹¨ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

</details>

### ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ ìƒíƒœë¥¼ ì§ì ‘ ì¡°ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì‚¬ìš©ì ì¸í„°ë™ì…˜ì„ ìš°íšŒí•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ ìƒíƒœë¥¼ ì§ì ‘ ì¡°ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ëŸ´ ê²½ìš° ë¦¬íŒ©í† ë§ ì‹œ í…ŒìŠ¤íŠ¸ê°€ ê¹¨ì§€ê¸° ì‰½ìŠµë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: useState ê°’ì„ ê°•ì œë¡œ ë³€ê²½
test("ì¥ë°”êµ¬ë‹ˆ ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸", () => {
  const { getByTestId } = render(<CartCounter />);
  // ë‚´ë¶€ ìƒíƒœ ê°•ì œ ìˆ˜ì • (ì‚¬ìš©ìê°€ ì ˆëŒ€ í•  ìˆ˜ ì—†ëŠ” í–‰ìœ„)
  act(() => {
    setCartCount(5);
  });
  expect(getByTestId("cart-count")).toHaveTextContent("5");
});

// âœ… ì¢‹ì€ ì˜ˆ: ì‚¬ìš©ì ë™ì‘ì„ ì‹œë®¬ë ˆì´ì…˜ (ë²„íŠ¼ í´ë¦­ ë“±)
test("ì¥ë°”êµ¬ë‹ˆ ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸", async () => {
  const user = userEvent.setup();
  const { getByRole, getByTestId } = render(<CartCounter />);

  await user.click(getByRole("button", { name: "ì¶”ê°€" }));
  expect(getByTestId("cart-count")).toHaveTextContent("1");
});
```

### ë¶ˆí•„ìš”í•œ `act()` ì‚¬ìš©ì„ í”¼í•©ë‹ˆë‹¤.

RTLì€ ì´ë¯¸ ë‚´ë¶€ì ìœ¼ë¡œ `act()`ë¥¼ ì²˜ë¦¬í•˜ê¸°ë•Œë¬¸ì— ì¤‘ë³µ ì‚¬ìš©ì´ë¯€ë¡œ ë¶ˆí•„ìš”í•©ë‹ˆë‹¤. React 18+ì—ì„œëŠ” ì˜¤íˆë ¤ ê²½ê³  ë°œìƒí•©ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: ëª¨ë“  ìƒí˜¸ì‘ìš©ì„ act()ë¡œ ê°ìŒˆ
test("í¼ ì œì¶œ", () => {
  const { getByLabelText } = render(<LoginForm />);
  act(() => {
    fireEvent.change(getByLabelText("ì´ë©”ì¼"), {
      target: { value: "test@test.com" },
    });
  });
});

// âœ… ì¢‹ì€ ì˜ˆ: ê·¸ëƒ¥ fireEventë‚˜ userEvent ì‚¬ìš©
test("í¼ ì œì¶œ", async () => {
  const user = userEvent.setup();
  const { getByLabelText } = render(<LoginForm />);
  await user.type(getByLabelText("ì´ë©”ì¼"), "test@test.com");
});
```

### ì¿¼ë¦¬ í•¨ìˆ˜ ì„ íƒ ì‹¤ìˆ˜ì— ì£¼ì˜í•©ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: ë¹„ë™ê¸° ìš”ì†Œë¥¼ getByTextë¡œ ì°¾ê¸°
test("ë°ì´í„° ë¡œë”© í›„ í‘œì‹œ", () => {
  render(<AsyncComponent />);
  expect(screen.getByText("ë¡œë”© ì™„ë£Œ")).toBeInTheDocument(); // ì‹¤íŒ¨!
});

// âœ… ì¢‹ì€ ì˜ˆ: findBy* ì‚¬ìš©
test("ë°ì´í„° ë¡œë”© í›„ í‘œì‹œ", async () => {
  render(<AsyncComponent />);
  expect(await screen.findByText("ë¡œë”© ì™„ë£Œ")).toBeInTheDocument();
});
```

### ë¶ˆí•„ìš”í•œ `cleanup()` í˜¸ì¶œì„ í”¼í•©ë‹ˆë‹¤.

RTL v9+ëŠ” ìë™ìœ¼ë¡œ cleanup ìˆ˜í–‰í•˜ë¯€ë¡œ ë¶ˆí•„ìš”í•©ë‹ˆë‹¤.

```tsx
// âŒ ë¶ˆí•„ìš”í•œ ìˆ˜ë™ í´ë¦°ì—…
afterEach(() => {
  cleanup();
});

// âœ… ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŒ (ìë™ ì²˜ë¦¬ë¨)
```

### í†µí•© í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” ì „ì²´ í˜ì´ì§€ ë Œë”ë§ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ë§Œ í…ŒìŠ¤íŠ¸ (í†µí•© í…ŒìŠ¤íŠ¸ ëª©ì ì´ë©´ ë¶€ì ì ˆ)
test("ê²°ì œ í”Œë¡œìš°", () => {
  render(<PaymentButton />);
  // ê²°ì œ ê´€ë ¨ Context/Reduxê°€ ì—°ê²°ë˜ì§€ ì•ŠìŒ
});

// âœ… ì¢‹ì€ ì˜ˆ: ì‹¤ì œ ì‚¬ìš© í™˜ê²½ê³¼ ìœ ì‚¬í•˜ê²Œ ì „ì²´ êµ¬ì„±
test("ê²°ì œ í”Œë¡œìš°", async () => {
  render(
    <PaymentProvider>
      <CartProvider>
        <CheckoutPage />
      </CartProvider>
    </PaymentProvider>
  );
  // ì‚¬ìš©ì í”Œë¡œìš° ì „ì²´ í…ŒìŠ¤íŠ¸
});
```

## MSW ì£¼ì˜ì‚¬í•­

### ì„œë²„ ìƒëª…ì£¼ê¸° ê´€ë¦¬ ëˆ„ë½

MSWëŠ” ì„œë²„ ìƒëª…ì£¼ê¸°ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì¢…ë£Œ ì‹œ ëª¨ë“  ëª¨ì˜ ì„œë²„ë¥¼ ì •ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: í…ŒìŠ¤íŠ¸ í›„ ì„œë²„ ì¢…ë£Œ ì•ˆ í•¨ â†’ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì™€ ì¶©ëŒ
const server = setupServer(...handlers);

test("API í…ŒìŠ¤íŠ¸", async () => {
  server.listen();
  // í…ŒìŠ¤íŠ¸ ì‹¤í–‰
});

// âœ… ì¢‹ì€ ì˜ˆ: í…ŒìŠ¤íŠ¸ ìˆ˜ì¤€ì—ì„œ ì„œë²„ ê´€ë¦¬
beforeAll(() => server.listen());
afterEach(() => server.resetHandlers());
afterAll(() => server.close());
```

### í•¸ë“¤ëŸ¬ ê°„ ìš°ì„ ìˆœìœ„ ì˜¤ë¥˜

ë” êµ¬ì²´ì ì¸ í•¸ë“¤ëŸ¬ê°€ ë¨¼ì € ë“±ë¡ë˜ê³  ì¼ë°˜ì ì¸ í•¸ë“¤ëŸ¬ê°€ ë‚˜ì¤‘ì— ë“±ë¡ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: ë” êµ¬ì²´ì ì¸ í•¸ë“¤ëŸ¬ê°€ ë‚˜ì¤‘ì— ìœ„ì¹˜
server.use(
  rest.get("/api/users", generalHandler), // ë¨¼ì € ë“±ë¡
  rest.get("/api/users/admin", adminHandler) // ë” êµ¬ì²´ì ì´ì§€ë§Œ ë‚˜ì¤‘
);

// âœ… ì¢‹ì€ ì˜ˆ: ë” êµ¬ì²´ì ì¸ í•¸ë“¤ëŸ¬ê°€ ë¨¼ì € ë“±ë¡
server.use(
  rest.get("/api/users/admin", adminHandler), // ë” êµ¬ì²´ì ì¸ í•¸ë“¤ëŸ¬ ë¨¼ì €
  rest.get("/api/users", generalHandler) // ì¼ë°˜ì ì¸ í•¸ë“¤ëŸ¬ ë‚˜ì¤‘
);
```

### ë™ì¼ ì—”ë“œí¬ì¸íŠ¸ ì¬ì •ì˜ ì‹œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜

```tsx
// âŒ ë‚˜ìœ ì˜ˆ: ë™ì¼ ì—”ë“œí¬ì¸íŠ¸ ì¬ì •ì˜ ì‹œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜
test("A", () => {
  server.use(rest.get("/api/data", AHandler));
});

test("B", () => {
  // Aì˜ í•¸ë“¤ëŸ¬ê°€ ì—¬ì „íˆ í™œì„±í™”ë¨ ğŸ˜±
});

// âœ… ì¢‹ì€ ì˜ˆ: afterEachì—ì„œ server.resetHandlers() í•„ìˆ˜
afterEach(() => server.resetHandlers());
```

### ì‘ë‹µ í˜•ì‹ ì¼ì¹˜ì—¬ë¶€ ë°˜ë“œì‹œ í™•ì¸

í…ŒìŠ¤íŠ¸ëŠ” í†µê³¼í•˜ì§€ë§Œ ì‹¤ì œ í™˜ê²½ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
// âŒ ì‹¤ì œ APIì™€ ë‹¤ë¥¸ êµ¬ì¡° ë°˜í™˜
rest.get('/api/products', (req, res, ctx) => {
  return res(ctx.json({ products: [...] })); // ì‹¤ì œëŠ” { data: [...] }
});
```

### ìƒíƒœ ì½”ë“œ ëˆ„ë½

```tsx
// âŒ ì„±ê³µ ì‹œë‚˜ë¦¬ì˜¤ë§Œ í…ŒìŠ¤íŠ¸
rest.post("/api/login", (req, res, ctx) => {
  return res(ctx.json({ token: "fake" })); // 200 OKê°€ ê¸°ë³¸
});

// âœ… ëª…ì‹œì  ìƒíƒœ ì½”ë“œ ì„¤ì •
rest.post("/api/login", (req, res, ctx) => {
  return res(
    ctx.status(201), // ì‹¤ì œ API ìŠ¤í™ ë°˜ì˜
    ctx.json({ token: "fake" })
  );
});
```

### ë™ì  ê²½ë¡œ ì²˜ë¦¬ ì˜¤ë¥˜

```tsx
// âŒ ì •ì  ê²½ë¡œë§Œ ì²˜ë¦¬
rest.get("/api/users/1", userHandler); // ID í•˜ë“œì½”ë”©

// âœ… ë™ì  ê²½ë¡œ ë§¤ì¹­
rest.get("/api/users/:userId", (req, res, ctx) => {
  const { userId } = req.params;
  // userId ê¸°ë°˜ ì‘ë‹µ
});
```

### ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ì‹œë®¬ë ˆì´ì…˜

```tsx
// âŒ ë‹¨ìˆœ 500 ì—ëŸ¬ë§Œ ë°˜í™˜
rest.get("/api/data", (req, res, ctx) => {
  return res(ctx.status(500));
});

// âœ… ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ìœ í˜• ë°˜ì˜
rest.get("/api/data", (req, res, ctx) => {
  return res.networkError("Failed to connect");
});
```

### Context ìœ í‹¸ë¦¬í‹° ì˜ ëª» ì‚¬ìš©

```tsx
// âŒ ë¶ˆí•„ìš”í•œ ì§€ì—° ì¶”ê°€
rest.get("/api/data", (req, res, ctx) => {
  return res(
    ctx.delay(5000), // ëª¨ë“  í…ŒìŠ¤íŠ¸ì— 5ì´ˆ ì§€ì—°
    ctx.json(data)
  );
});

// âœ… í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì§€ì—° ì‚¬ìš©
rest.get("/api/data", (req, res, ctx) => {
  return process.env.NODE_ENV === "test"
    ? res(ctx.json(data))
    : res(ctx.delay(1000), ctx.json(data));
});
```

### í•¸ë“¤ëŸ¬ ë‚´ë¶€ ìƒíƒœ ê³µìœ ëŠ” í…ŒìŠ¤íŠ¸ ê°„ ê°„ì„­ ìœ ë°œ

```tsx
let requestCount = 0; // âŒ ìƒíƒœ ê³µìœ ëŠ” í…ŒìŠ¤íŠ¸ ê°„ ê°„ì„­ ìœ ë°œ

rest.get("/api/data", (req, res, ctx) => {
  requestCount++;
  return res(ctx.json({ count: requestCount }));
});

// âœ… í•¸ë“¤ëŸ¬ ë‚´ë¶€ì—ì„œ ìƒíƒœ ê´€ë¦¬
rest.get("/api/data", (req, res, ctx) => {
  let count = 0;
  return res(ctx.json({ count: ++count }));
});
```
